<!DOCTYPE html>
<html>
<head>
    <title>Social Media Automation</title>
    <!-- TikTok SDK -->
    <script src="https://unpkg.com/@tiktok/tiktok-auth"></script>
</head>
<body>
    <h1>Social Media Automation</h1>
    <p>A tool for automating social media content posting across multiple platforms.</p>
    
    <!-- TikTok Login Button -->
    <div class="login-container">
        <script>
            function onTikTokLogin(response) {
                console.log('TikTok login response:', response);
                if (response.code) {
                    // Store the auth code
                    localStorage.setItem('tiktok_auth_code', response.code);
                    console.log('Auth code stored:', response.code);
                    // Show upload form
                    document.getElementById('upload-form').style.display = 'block';
                }
            }
        </script>
        <div id="tiktok-login-button"></div>
    </div>
    
    <!-- Upload Form (initially hidden) -->
    <div id="upload-form" style="display: none;">
        <h2>Upload Video to TikTok</h2>
        <form id="video-upload-form">
            <input type="file" id="video-file" accept="video/*" required><br><br>
            <input type="text" id="description" placeholder="Video description"><br><br>
            <input type="text" id="hashtags" placeholder="Hashtags (comma separated)"><br><br>
            <select id="visibility">
                <option value="private">Only me</option>
                <option value="public">Public</option>
            </select><br><br>
            <button type="submit">Upload Video</button>
        </form>
    </div>

    <ul>
        <li><a href="TERMS">Terms of Service</a></li>
        <li><a href="PRIVACY">Privacy Policy</a></li>
    </ul>

    <script>
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://www.tiktok.com/auth/embed.js";
            fjs.parentNode.insertBefore(js, fjs);
        })(document, 'script', 'tiktok-auth');
    </script>

    <script>
        window.onload = function() {
            console.log('Window loaded');
            window.TikTokAuthObject = {
                client_key: 'awdmgl4x0u4626up',
                redirect_uri: 'https://nassermendes.github.io/social-media-automation/callback',
                scope: 'user.info.basic,video.upload',
                response_type: 'code',
                state: 'state'
            };
        };
    </script>
</body>
</html>
